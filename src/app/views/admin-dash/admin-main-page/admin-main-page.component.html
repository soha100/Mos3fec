<div class="p-10">
  <div class="text-primary">
    <h1 class="text-[40px] font-bold">مرحبا بك</h1>
    <p class="text-[24px]">لوحة التحكم الخاصة بمسعفك</p>
  </div>
  <div class="grid grid-cols-4 gap-4 mt-8 mb-8">
    <!-- العمود الأول -->
    <div class="flex flex-col gap-4">
      <div class="bg-white p-4 rounded-xl shadow-md w-full border flex-1">
        <div class="flex items-center justify-between">
          <div class="text-right">
            <p class="text-green-600 font-semibold text-lg">المرضى</p>
            <p class="text-gray-700 font-bold text-2xl">990</p>
          </div>
          <div
            class="w-14 h-14 flex items-center justify-center border-2 border-[#2E7D5C] rounded-full bg-[rgba(217,217,217,0.1)]"
          >
            <i class="fa-solid fa-bed-pulse text-primary"></i>
          </div>
        </div>
        <div class="mt-10 h-1.5 bg-gray-200 rounded-full">
          <div class="h-1.5 bg-primary rounded-full w-[60%]"></div>
        </div>
      </div>

      <div class="bg-white p-4 rounded-xl shadow-md w-full border flex-1">
        <div class="flex items-center justify-between">
          <div class="text-right">
            <p class="text-green-600 font-semibold text-lg">المواعيد</p>
            <p class="text-gray-700 font-bold text-2xl">990</p>
          </div>
          <div
            class="w-14 h-14 flex items-center justify-center border-2 border-[#2E7D5C] rounded-full bg-[rgba(217,217,217,0.1)]"
          >
            <i class="fa-solid fa-calendar-days"></i>
          </div>
        </div>
        <div class="mt-10 h-1.5 bg-gray-200 rounded-full">
          <div class="h-1.5 bg-primary rounded-full w-[60%]"></div>
        </div>
      </div>

      <div class="bg-white p-4 rounded-xl shadow-md w-full border flex-1">
        <div class="flex items-center justify-between">
          <div class="text-right">
            <p class="text-green-600 font-semibold text-lg">الاطباء</p>
            <p class="text-gray-700 font-bold text-2xl">990</p>
          </div>
          <div
            class="w-14 h-14 flex items-center justify-center border-2 border-[#2E7D5C] rounded-full bg-[rgba(217,217,217,0.1)]"
          >
            <i class="fa-solid fa-user-doctor text-primary"></i>
          </div>
        </div>
        <div class="mt-10 h-1.5 bg-gray-200 rounded-full">
          <div class="h-1.5 bg-primary rounded-full w-[60%]"></div>
        </div>
      </div>

      <div class="bg-white p-4 rounded-xl shadow-md w-full border flex-1">
        <div class="flex items-center justify-between">
          <div class="text-right">
            <p class="text-green-600 font-semibold text-lg">المكسب</p>
            <p class="text-gray-700 font-bold text-2xl">990</p>
          </div>
          <div
            class="w-14 h-14 flex items-center justify-center border-2 border-[#2E7D5C] rounded-full bg-[rgba(217,217,217,0.1)]"
          >
            <i class="fa-solid fa-money-bill-trend-up text-primary"></i>
          </div>
        </div>
        <div class="mt-10 h-1.5 bg-gray-200 rounded-full">
          <div class="h-1.5 bg-primary rounded-full w-[60%]"></div>
        </div>
      </div>
    </div>

    <!-- العمود الثاني -->
    <div class="col-span-3 flex flex-col gap-4">
      <div class="bg-white p-6 rounded-lg shadow-md flex-1 flex flex-col">
        <h2 class="text-2xl font-bold text-right text-primary">الإحصائيات</h2>
        <div class="flex-1">
          <app-statistics-chart class="h-full"></app-statistics-chart>
        </div>
      </div>

      <div class="bg-white p-6 rounded-lg shadow-md flex-1 flex flex-col">
        <h2 class="text-2xl font-bold text-right text-primary">الإيرادات</h2>
        <div class="flex-1">
          <app-revenue-chart class="h-full"></app-revenue-chart>
        </div>
      </div>
    </div>
  </div>

  <div class="flex gap-4">
    <!-- الديف الأول -->
    <div
      class="flex-1 bg-[rgba(217,217,217,0.4)] rounded-[10px] p-5 overflow-x-auto"
    >
      <h2 class="text-[20px] font-medium text-primary mb-8">الاطباء</h2>

      <table class="w-full">
        <thead class="">
          <tr class="border-b text-primary text-[16px] bg-white">
            <th class="py-3 text-right">اسم الطبيب</th>
            <th class="py-3 text-right">التخصص</th>
            <th class="py-3 text-right">المكسب</th>
            <th class="py-3 text-right">التقييم</th>
          </tr>
        </thead>
        <tbody>
          @for (rating of ratings; track rating.id){
          <tr class="border-b last:border-0">
            <td class="py-4">
              <div class="flex items-center gap-2">
                <img
                  [src]="rating.doctorImage"
                  class="w-[52px] h-[52px] rounded-lg object-cover"
                  [alt]="rating.doctorName"
                />
                <span class="text-[#23262F] text-[16px]">{{
                  rating.doctorName
                }}</span>
              </div>
            </td>
            <td class="py-4 text-[#7B7D82] text-[12px]">
              {{ rating.specialization }}
            </td>
            <td class="py-4 text-[#7B7D82] text-[12px]">
              {{ rating.amount }}
            </td>
            <td class="py-4">
              <div class="flex gap-1">
                @for (star of [1,2,3,4,5]; track star) {
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5"
                  [class.text-yellow-400]="star <= rating.rating"
                  [class.text-gray-300]="star > rating.rating"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                >
                  <path
                    d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                  />
                </svg>
                }
              </div>
            </td>
          </tr>
          }
        </tbody>
      </table>
    </div>

    <!-- الديف الثاني -->

    <div
      class="flex-1 bg-[rgba(217,217,217,0.4)] rounded-[10px] p-5 overflow-x-auto"
    >
      <h2 class="text-[20px] font-medium text-primary mb-8">المرضى</h2>

      <table class="w-full">
        <thead class="">
          <tr class="border-b text-primary text-[16px] bg-white">
            <th class="py-3 text-right">الاسم</th>

            <th class="py-3 text-right">التليفون</th>
            <th class="py-3 text-right">اخر كشف</th>
            <th class="py-3 text-right">المدفوع</th>
          </tr>
        </thead>
        <tbody>
          @for (patient of patients; track patient.id) {
          <tr class="border-b last:border-0">
            <td class="py-4">
              <div class="flex items-center gap-2">
                <img
                  [src]="patient.patientImage"
                  class="w-[52px] h-[52px] rounded-full"
                  [alt]="patient.patientName"
                />
                <div>
                  <p>{{ patient.patientName }}</p>
                  <p class="text-sm text-gray-500">#{{ patient.id }}</p>
                </div>
              </div>
            </td>
            <td class="py-4 text-[#7B7D82]">{{ patient.phone }}</td>
            <td class="py-4 text-[#7B7D82]">{{ patient.date }}</td>
            <td class="py-4 text-[#7B7D82]">{{ patient.amount }} جنيه</td>
          </tr>
          }
        </tbody>
      </table>
    </div>
  </div>

  <div
    class="bg-[rgba(217,217,217,0.4)] rounded-[10px] p-5 mt-10 overflow-x-auto"
  >
    <h2 class="text-[35px] font-medium text-primary mb-8">المواعيد</h2>

    <table class="w-full">
      <thead class="">
        <tr class="border-b text-primary text-[20px] bg-white">
          <th class="py-3 text-right">الاسم</th>
          <th class="py-3 text-right">التخصص</th>
          <th class="py-3 text-right">المريض</th>
          <th class="py-3 text-right">الموعد</th>
          <th class="py-3 text-right">الحالة</th>
          <th class="py-3 text-right">المبلغ</th>
        </tr>
      </thead>
      <tbody>
        @for (appointment of appointments; track appointment.id) {
        <tr class="border-b last:border-0">
          <td class="py-4">
            <div class="flex items-center gap-2">
              <img
                [src]="appointment.doctorImage"
                class="w-[52px] h-[52px] rounded-lg object-cover"
                [alt]="appointment.doctorName"
              />
              <span class="text-[#23262F] text-[16px]">{{
                appointment.doctorName
              }}</span>
            </div>
          </td>
          <td class="py-4">{{ appointment.specialization }}</td>
          <td class="py-4">
            <div class="flex items-center gap-2">
              <img
                [src]="appointment.patientImage"
                class="w-[52px] h-[52px] rounded-full"
                [alt]="appointment.patientName"
              />
              <div>
                <p>{{ appointment.patientName }}</p>
                <p class="text-sm text-gray-500">#{{ appointment.id }}</p>
              </div>
            </div>
          </td>
          <td class="py-4 text-[#7B7D82]">{{ appointment.date }}</td>
          <td class="py-4">
            <div class="flex items-center gap-2">
              <div
                class="relative inline-block w-10 h-5 rounded-full bg-gray-200"
              >
                <input
                  type="checkbox"
                  class="sr-only"
                  [checked]="appointment.status"
                />
                <div
                  class="absolute inset-0 rounded-full transition-colors"
                  [class.bg-emerald-500]="appointment.status"
                ></div>
                <div
                  class="absolute left-0.5 top-0.5 w-4 h-4 bg-white rounded-full transition-transform"
                  [class.translate-x-5]="appointment.status"
                ></div>
              </div>
            </div>
          </td>
          <td class="py-4 text-[#7B7D82]">{{ appointment.amount }} جنيه</td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>
